{% extends 'base.html' %}
{% load static %}
{% block content %}

<h1 class="text-lg font-bold">Covid-19 Vaccination Dashboard ðŸ’‰</h1>
<p class="text-gray-600">Build with Django, Chart.js, Grid.js and Tailwind</p>

<div class="mt-4 grid gap-4 gris-cols-1 lg:grid-cols-2">
  <div class="bg-white sm:rounded-md shadow -mx-4 sm:mx-0 px-4 py-3">
    <h3 class="font-medium">People vaccinated per hundred</h3>
    <div class="mt-2 h-96">
      <canvas id="lineChart" data-url="{% url 'linechart' %}"></canvas>
    </div>
  </div>

  <div class="bg-white sm:rounded-md shadow  -mx-4 sm:mx-0 px-4 py-3">
    <h3 class="font-medium">Most widely used vaccine combinations</h3>
    <div class="mt-2 h-96">
      <canvas id="pieChart" data-url="{% url 'piechart' %}"></canvas>
    </div>
  </div>
</div>

<div class="mt-4 grid gap-4 gris-cols-1 lg:grid-cols-2">
  <div class="lg:col-span-2">
    <div id="dataGrid" class="text-sm" data-url="{% url 'table' %}"></div>
  </div>
</div>

<!-- Chart.js -->
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.1.0/chart.min.js"
  integrity="sha512-RGbSeD/jDcZBWNsI1VCvdjcDULuSfWTtIva2ek5FtteXeSjLfXac4kqkDRHVGf1TwsXCAqPTF7/EYITD0/CTqw=="
  crossorigin="anonymous"
></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@next/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
<script src="{% static 'js/charts.js' %}"></script>

<!-- Grid.js -->
<script src="https://unpkg.com/gridjs/dist/gridjs.production.min.js"></script>
<link href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
<script src="{% static 'js/grid.js' %}"></script>

<script>
  let lineChart = document.getElementById("lineChart");
  drawLineChart(lineChart)
  let pieChart = document.getElementById("pieChart");
  drawPieChart(pieChart)
  let dataGrid = document.getElementById("dataGrid")
  renderGrid(dataGrid)
</script>

{% endblock %}
